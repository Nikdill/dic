<div class="fixed inset-0 flex items-center justify-center bg-emerald-500 p-4">
  <div class="flex flex-col items-center gap-20 w-full">
    @if(queue$ | async; as item) {
      <div class="flex flex-col gap-2 items-center justify-center text-4xl">
        <div
          class="relative flex items-center justify-center w-20 h-20 rounded-full border-2 overflow-hidden"
          [class.bg-emerald-700]="selected()?.type === 'correct'"
          [class.border-emerald-700]="selected()?.type === 'correct'"
          [class.border-red-800]="selected()?.type === 'incorrect'"
          [class.border-white]="!selected()"
          [class.text-white]="!selected() || selected()?.type === 'correct'"
          [class.text-red-800]="selected()?.type === 'incorrect'"
        >
          @switch (selected()?.type) {
            @case ('correct') {
              <mat-icon class="scale-200" aria-hidden="false" aria-label=Play>done</mat-icon>
            }
            @case ('incorrect') {
              <mat-icon  class="scale-200" aria-hidden="false" aria-label=Play>clear</mat-icon>
            }
            @default {
              @if(timer$ | async; as seconds) {
                  <div class=" absolute left-0 right-0 bottom-0 bg-red-800 transition-all" [style.height.%]="((7 - seconds) * 100) / 7"></div>
                  <div class="relative z-1">
                    {{wordLeftCounter$ | async}}
                  </div>
              } @else {
                <div class="relative z-1">
                  {{wordLeftCounter$ | async}}
                </div>
              }

            }
          }
        </div>
        <div class="text-white">
          {{item.word}}
        </div>
      </div>
      <div class="flex flex-col gap-4 w-full">
        @for (variant of item.variants; track variant) {
          @let incorrect = selected() === variant && variant.type === 'incorrect';
          @let correct = selected() === variant && variant.type === 'correct';
          <button
            class="p-2 text-xl rounded-md min-w-80 whitespace-nowrap text-ellipsis overflow-hidden"
            [class.bg-gray-100]="!(correct || incorrect)"
            [class.bg-red-800]="incorrect"
            [class.bg-emerald-700]="correct"
            [class.text-white]="correct || incorrect"
            (click)="selectVariant(variant)"
          >
            {{ variant.translation }}
          </button>
        }
      </div>
    }
    <div>
    </div>
  </div>
</div>
